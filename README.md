# VK Wall Cleaner

Скрипт для автоматического удаления постов со стены ВКонтакте. Работает через консоль браузера.

## Важные замечания
- Ограничения ВКонтакте: Если вы удаляете слишком много постов за короткое время, ВКонтакте может запросить капчу или временно заблокировать аккаунт.
- Ручное вмешательство: Если скрипт не сработает (например, из-за капчи), вам придется вручную подтверждать действия.
- Ответственность: **Используйте скрипт на свой страх и риск**.

## ⚠️ Внимание:
### Протестировано 3 января 2025 года
Скрипт протестирован и работает на **03.01.2025**. Если ВКонтакте изменит интерфейс, скрипт может потребовать обновления.
### Пауза для подтверждения капчи не предусмотрена
Если ВКонтакте запросит капчу, скрипт остановится, и вам потребуется вручную решить капчу для продолжения.

## Как использовать

1. Перейдите на свою страницу ВКонтакте и откройте стену.
2. Откройте консоль разработчика в браузере:
   - **Chrome**: `Ctrl + Shift + J` (Windows/Linux) или `Cmd + Option + J` (Mac).
   - **Firefox**: `Ctrl + Shift + K` (Windows/Linux) или `Cmd + Option + K` (Mac).
3. Скопируйте и вставьте следующий скрипт в консоль:

```javascript
// Функция для прокрутки страницы вниз
async function scrollPage() {
    window.scrollBy(0, window.innerHeight); // Прокручиваем на высоту экрана
    await new Promise(resolve => setTimeout(resolve, 1000)); // Пауза для загрузки новых постов
}

// Функция для удаления постов
async function deletePosts() {
    let previousPostCount = 0; // Счетчик постов для контроля завершения

    while (true) {
        // Находим все посты на стене
        const posts = document.querySelectorAll('._post');
        
        if (posts.length === 0) {
            console.log('Посты не найдены.');
            break;
        }

        // Если количество постов не изменилось, значит, новых постов больше нет
        if (posts.length === previousPostCount) {
            console.log('Все посты удалены.');
            break;
        }

        previousPostCount = posts.length; // Обновляем счетчик

        // Удаляем каждый пост
        for (const post of posts) {
            // Находим кнопку меню поста
            const menuButton = post.querySelector('.vkuiIconButton');
            if (menuButton) {
                menuButton.click(); // Открываем меню
                await new Promise(resolve => setTimeout(resolve, 500)); // Пауза для загрузки меню

                // Используем XPath для поиска span с текстом "Удалить"
                const xpath = "//span[contains(text(), 'Удалить')]";
                const deleteButton = document.evaluate(
                    xpath,
                    document,
                    null,
                    XPathResult.FIRST_ORDERED_NODE_TYPE,
                    null
                ).singleNodeValue;

                if (deleteButton) {
                    deleteButton.click(); // Нажимаем "Удалить"
                    await new Promise(resolve => setTimeout(resolve, 500)); // Пауза перед следующим
                }
            }
        }

        // Прокручиваем страницу вниз для загрузки новых постов
        await scrollPage();
    }
}

// Запуск функции
deletePosts();
```
4. Нажмите Enter и дождитесь завершения процесса.

## Вклад в проект
Приветствуются пул-реквесты (Pull Requests) для улучшения и усовершенствования скрипта. Если у вас есть идеи, как сделать скрипт лучше, или вы хотите добавить новые функции, следуйте этим шагам:

1. Сделайте форк (Fork) репозитория.
2. Создайте новую ветку (Branch) для ваших изменений.
3. Внесите изменения и сделайте коммит (Commit) с описанием.
4. Отправьте пул-реквест (Pull Request) в основную ветку этого репозитория.
